<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ user.username }}'s Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<header class="navbar">
    <div class="brand">
        <div class="brand-text">
            <div class="brand-name">Hollcroft Analytics</div>
            <div class="brand-sub">Tulsa, Oklahoma</div>
        </div>
    </div>

    <nav class="nav-links">
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('contact') }}">Contact</a>
        <a href="{{ url_for('login') }}" class="nav-login">Client Login</a>
    </nav>
</header> 

    <div class="dashboard-container">
        <h2>Welcome, {{ user.username }}!</h2>
        <p>This is your personal dashboard.</p>

        <h3>All Users</h3>
        <table>
            <caption>Registered Users</caption>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Dashboard Key</th>
                </tr>
            </thead>
            <tbody>
                {% for u in all_users %}
                <tr>
                    <td>{{ u.id }}</td>
                    <td>{{ u.username }}</td>
                    <td>{{ u.dashboard_key }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <h3 style="margin-top: 28px;">Contact Submissions</h3>

<table>
    <caption>Latest Leads</caption>
    <thead>
        <tr>
            <th>ID</th>
            <th>Created (UTC)</th>
            <th>Name</th>
            <th>Company</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Systems</th>
            <th>Message</th>
        </tr>
    </thead>
    <tbody>
        {% for c in contact_submissions %}
        <tr>
            <td>{{ c.id }}</td>
            <td>{{ c.created_at }}</td>
            <td>{{ c.name }}</td>
            <td>{{ c.company }}</td>
            <td>{{ c.email }}</td>
            <td>{{ c.phone }}</td>
            <td>{{ c.systems }}</td>
            <td style="max-width: 420px; white-space: pre-wrap;">{{ c.message }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

    </div>
</body>
<footer>
    <p>© 2026 Hollcroft Analytics · Tulsa, Oklahoma · Data Analytics & Business Intelligence</p>
</footer>
</html>
